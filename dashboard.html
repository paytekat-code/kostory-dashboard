import { firebaseConfig } from './firebase-config.js';
import { formatDate, hitungLamaTinggal, closeModal } from './utils.js';

firebase.initializeApp(firebaseConfig);
const db = firebase.database();

const kosts = { /* sama seperti sebelumnya */ };
const hakAkses = { /* sama */ };

let currentUser = localStorage.getItem("kostoryUser");
let allowedKosts = hakAkses[currentUser] === "all" ? Object.keys(kosts) : [hakAkses[currentUser]];

document.addEventListener("DOMContentLoaded", () => {
  document.querySelectorAll("#userName").forEach(el => el.textContent = currentUser.toUpperCase());
  loadDashboard();
});

function loadDashboard() {
  // sama seperti versi sebelumnya: buat card kost + grid room
  // ... (kode load room grid + onValue status)
}

window.bukaModal = function(kost, room, editKey = null) {
  // sama seperti sebelumnya
};

window.simpanPenghuni = function() {
  // sama seperti sebelumnya
};
